"use strict";(this.webpackChunk_hz_project_x=this.webpackChunk_hz_project_x||[]).push([[685,453],{350595:(e,t,n)=>{n.d(t,{Vd:()=>i,_5:()=>s,t3:()=>a});var s=function(e){return e._example="_example-draft-1",e._test="_test-draft-1",e.debugComponentTransform="debug-component-transform-draft-1",e.interactions="interactions",e.variants="variants",e.stickyLayoutGrid="sticky-layout-grid-draft-1",e.filterFacelab="filter-facelab-draft-3",e.graphApiFilters="graph-api-filters-draft-1",e.neuralShapeEffects="neural-shape-effects-draft-1",e.charts="charts-draft-9",e.effectGraph="effect-graph-draft-3",e.catalyze="catalyze-draft-5",e.nestedTimeline="nested-timeline-draft-1",e}({});const a=new Set(Object.values(s)),i=new Set(globalThis&&globalThis._hzTempDDMS||[])},892415:(e,t,n)=>{n.d(t,{R:()=>C,s:()=>E});var s=n(372899),a=n(856556),i=n(332805),r=n(629609),o=n(880990),c=n(866893),l=n(696050),u=n(616351),d=n(971464),h=n(825143),p=n(898459),_=n(145784),v=n(12616),y=n(439679);const f={maxAttempts:3,shouldRetry:e=>!(e instanceof a.o&&!1===e.retryable),delay:500},g={eventName:o.CA.EVENT_PAGENAME,type:o.CA.EVENT_TYPE,subType:o.CA.EVENT_SUBTYPE,workflow:o.CA.EVENT_WORKFLOW,subCategory:o.CA.EVENT_SUBCATEGORY},m=new Set(Object.values(o.CA));let E=class{trigger(e){if(!this._analyticsClient)throw new Error("AnalyticsEvent instance without AnalyticsClient detected. Please register the event with AnalyticsClient.");const t={};for(const[e,n]of Object.entries(g))t[n]=this._spec[e];if(e){let n,s;const a=e;o.a0.TIME_START in a&&(n=new Date(a[o.a0.TIME_START]),a[o.CA.EVENT_TIME_START]=n.toISOString(),delete a[o.a0.TIME_START]),o.a0.TIME_END in a&&(s=new Date(a[o.a0.TIME_END]),a[o.CA.EVENT_TIME_END]=s.toISOString(),delete a[o.a0.TIME_END]),n&&s&&(a[o.CA.EVENT_VALUE]=s.getTime()-n.getTime());const i=a[o.a0.IS_FAILURE];void 0!==i&&(i&&(a[o.CA.EVENT_TYPE]="error"),delete a[o.a0.IS_FAILURE]);for(const n of Object.keys(e))m.has(n)||0!==n.indexOf("custom.")&&console.warn("Unrecognized AnalyticsPropertyName",{invalidName:n}),t[n]=e[n]}this._analyticsClient._sendEvent(t)}set name(e){this._spec.eventName=e}get name(){return`${this._spec.eventName}`}get type(){return this._spec.type}get subType(){return this._spec.subType}set client(e){this._analyticsClient=e}get client(){return this._analyticsClient}set contextGuid(e){if(!(0,_.Z)(e))throw new Error("Invalid UUID for contextGuid");this._eventMetaData=this._eventMetaData||{contextGuid:""},this._eventMetaData.contextGuid=e}constructor(e,t){this._spec=e,t&&(this._analyticsClient=t,this._analyticsClient._registerEvent(this))}},C=class e extends y.e{static get defaultInstance(){if(!e._defaultInstance){const t=i.y.singleton(),n=t.attach(l.q),s=h.$.defaultInstance,_=p.T.defaultInstance,v=n.then((()=>({otDomainId:l.q.otDomainId.value,privacyUrl:l.q.privacyURL.value}))),y=new d.h(t.getHost(),v),f=n.then((()=>({env:l.q.env.value,envName:l.q.envName.value,includeIngestBuildPrefix:l.q.includeIngestBuildPrefix.enabled,appSAPCode:l.q.appSAPCode.value,appVersion:l.q.appVersion.value,ingestAppCategory:l.q.ingestAppCategory.value,aaTrackingServer:l.q.aaTrackingServer.value,aaSecureTrackingServer:l.q.aaSecureTrackingServer.value,buildInfo:t.buildInfo,bundleHash:l.q.bundleHash.value,useExperienceEdge:l.q.useExperienceEdge.enabled,useSubscriptionProfile:l.q.useSubscriptionProfile.enabled,aepConfigId:l.q.aepConfigId.value,launchURL:l.q.launchURL.value,marketingTechURL:l.q.marketingTechURL.value}))),g=new c.fC(t.getHost(),t.sessionId,f,s,_),m=n.then((()=>({ingestProcessingInterval:l.q.ingestProcessingInterval.value,analyticsBufferLimit:l.q.analyticsBufferLimit.value,ingestConfig:{ingestApiKey:l.q.ingestAPIKey.value,ingestAppCategory:l.q.ingestAppCategory.value,ingestProject:l.q.ingestProject.value,envName:l.q.ingestHostAlwaysProdEnabled.enabled?o.kC.ENVIRONMENT_PROD:l.q.envName.value,ingestHost:l.q.ingestHostAlwaysProdEnabled.enabled?l.q.ingestHostAlwaysProd.value:l.q.ingestHost.value,token:"",ingestWaitForAppStartup:l.q.ingestWaitForAppStartup.enabled}}))),E=new r.v(t.getHost(),m,(t=>e._defaultInstance._updateNetworkState(t))),C=a.k.createInstance(t.getHost(),m.then((e=>e.ingestConfig)));e._defaultInstance=new e(t,E,g,s,y,C);const w=e._defaultInstance,T=w._setUserConsentCb(),b=w._sendDataToIngestCb();w._privacyService.addConsentChangeListener(T,b),w._setExecutionEnvironment(),n.then((()=>{if(w.setAnalyticsFlag(l.q.enableAnalytics.enabled),l.q.sendPreConsentEvent.enabled){const e=["/preload","/edit-image-preload"],t=async()=>{if("object"==typeof window.location&&e.includes(window?.location?.pathname?.toLowerCase()??""))return;await w._waitForConsentSystemModalWithTimeout()&&w.userConsent===o.Yz.UNINITIALIZED&&w.trigger(A,{})};w._executionEnvironment===u.st.Browser&&"undefined"!=typeof document&&"undefined"!=typeof window&&t()}}))}return e._defaultInstance}async shutdown(e=!0,t=600){const n=this._eventDataTransport.shutdown(e);if(e)await n;else{const e=new Promise((e=>setTimeout(e,t)));await Promise.race([n,e])}this.context?.shutdown()}get appConfig(){return this._appConfig}get context(){return this._analyticsContext}get transport(){return this._eventDataTransport}trigger(e,t){this._registerEvent(e),e.client=this,e.trigger(t)}_processOrQueueEvent(e){e[o.CA.EVENT_PAGENAME]===A.name?this._processAnalyticsEvents([e],!1,!0):(this.userConsent===o.Yz.ALLOWED&&this._processAnalyticsEvents([e]),this.userConsent===o.Yz.UNINITIALIZED&&this._eventQueue.queueEventData(e))}_sendEvent(e){if(!1===this._enableAnalytics||this.userConsent===o.Yz.DENIED)return;const t=e[o.CA.EVENT_PAGENAME];this._addToEventsHistory(t,e),this._analyticsContext.isInitialized()?(this._analyticsContext.adornEventData(e),this._processOrQueueEvent(e)):this._analyticsContext.initialized().then((()=>{this._analyticsContext.adornEventData(e),this._processOrQueueEvent(e)}))}async _setExecutionEnvironment(){const e=i.y.singleton();await e.attach(l.q);const t=await e.getHost();this._executionEnvironment=t.executionEnvironment()}async _eventQueueDeliveryFunction(e){this._enableAnalytics&&this.userConsent===o.Yz.ALLOWED&&await this._processAnalyticsEvents(e,!0)}async _sendToDunamis(e){const t=(0,s.XD)(this._ingestService.sendEventData,f);await t(e).catch((e=>{console.warn("Analytics encountered an unexpected error while sending data to Ingest: ",e)}))}async _processAnalyticsEvents(e,t=!1,n=!1){!0===t?await this._sendToDunamis(e):this._sendToDunamis(e),n||e.forEach((e=>{switch(this._executionEnvironment){case u.st.Worker:postMessage({type:o.kC.PAYLOAD_FROM_WORKER,payload:e});break;case u.st.Browser:this.notifyListeners(e),this._marketingTechService.sendEvent(e);break;default:console.log(`The execution environment ${this._executionEnvironment} does not support callbacks.`)}}))}notifyListeners(e){this._callListeners(e)}_registerEvent(e){this._events[e.name]=e}addEventListener(e){this._listeners.add(e)}removeEventListener(e){this._listeners.delete(e)}_callListeners(e){this._listeners.forEach((t=>{try{t(e)}catch(e){console.warn("Error occurred while calling Analytics event listener: ",e)}}))}setAnalyticsFlag(e){this._enableAnalytics=e}addConsentListener(e){this._consentListeners.add(e),this._broadcastUserConsentUpdate()}deleteConsentListener(e){this._consentListeners.delete(e)}addNonCrossThreadConsentListener(e){this._consentListeners.add(e)}ensureUserConsentIsAvailable(){return this._privacyService.load()}get privacyServiceInstance(){return this._privacyService}_parseCookieGroup(){if(this._executionEnvironment===u.st.Browser){return(window?.adobePrivacy?.activeCookieGroups()||[]).includes("C0002")?o.Yz.ALLOWED:o.Yz.DENIED}return o.Yz.DENIED}_waitForConsentSystemModalWithTimeout(){return new Promise((e=>{const t=setInterval((()=>{const e=window?.adobePrivacy?.activeCookieGroups()?.includes("C0001")??!1,t="undefined"!=typeof document?document.getElementById("onetrust-banner-sdk"):null;let n=!1;if(t){n="none"!==(("undefined"!=typeof window&&"function"==typeof window.getComputedStyle?window.getComputedStyle(t):null)?.display??t.style?.display??"")}e&&n&&s(!0)}),100),n=setTimeout((()=>{s(!1)}),1e4);function s(s){clearInterval(t),clearTimeout(n),e(s)}}))}_updateUserConsentCb(){this.userConsent=this._parseCookieGroup()}_broadcastUserConsentUpdate(){if(0===this._consentListeners.size)return;if(this._userConsentFromCookies===o.Yz.UNINITIALIZED)return;const e={userConsent:this._userConsentFromCookies};this._consentListeners.forEach((t=>{t(e)}))}set userConsent(e){this._userConsentFromCookies=e,this._userConsentFromCookies===o.Yz.ALLOWED&&(this._eventQueueShutdownPromise=this._eventQueue?.shutdown()),this._broadcastUserConsentUpdate()}get userConsent(){return this._userConsentFromCookies}set crashLogsConsent(e){this._crashLogsConsent=e}get crashLogsConsent(){return this._crashLogsConsent}_sendDataToIngestCb(){return async e=>{await this._analyticsContext.initialized();for(const t of e)this._analyticsContext.adornEventData(t);return this._ingestService.sendEventData(e)}}_setUserConsentCb(){return this._updateUserConsentCb.bind(this)}_addToEventsHistory(e,t){if(this._eventsHistory.size>=this._maxEventHistorySize){const e=this._eventsHistory.keys().next().value;e&&this._eventsHistory.delete(e)}this._eventsHistory.set(e,t)}getEventDataFromHistory(e){return this._eventsHistory.get(e)}constructor(e,t,n,s,a,i){super(),this._appConfig=e,this._analyticsContext=n,this._eventDataTransport=t,this._marketingTechService=s,this._privacyService=a,this._events={},this._listeners=new Set,this._consentListeners=new Set,this._executionEnvironment=u.st.Browser,this._enableAnalytics=!0,this._userConsentFromCookies=o.Yz.UNINITIALIZED,this._crashLogsConsent=!1,this._ingestService=i,this._eventQueue=new v.NH(this._eventQueueDeliveryFunction.bind(this)),this._eventQueue.maxQueueLength=20,this._eventQueue.batchSize=10,this._eventsHistory=new Map,this._maxEventHistorySize=20}};const A=new E({eventName:"preconsent-app-load",workflow:"lifecycle",subCategory:"operations",type:"load",subType:"app-page"})},372899:(e,t,n)=>{n.d(t,{XD:()=>o,Zx:()=>i});var s=n(334398);class a extends Error{constructor(e){super(),this.response=e}}var i=function(e){return e[e.EXACT=0]="EXACT",e[e.MINIMUM=1]="MINIMUM",e}({});const r={maxAttempts:5,delay:100,shouldUseServiceDelay:!1};function o(e,t,n){const a={...r,...t};if("number"!=typeof a.maxAttempts||a.maxAttempts<1||Math.floor(a.maxAttempts)!==a.maxAttempts)throw new Error(`retry: maxAttempts must be an integer, at least 1, found ${a.maxAttempts}`);let i=0,o=0;const c=a.progressMessagePrefix||e.name,l=(...t)=>((...t)=>{if(a.timeoutInterval){let r,o=0;const l=new Promise(((e,t)=>{const l={timedOutOperation:c,attemptNumber:i,maxAttempts:a.maxAttempts,timeoutInterval:a.timeoutInterval,...n};o=setTimeout((()=>{t(new s.R("OperationTimeout","Operation Timeout",{logMetadata:l}))}),a.timeoutInterval),r=e}));return Promise.race([e(...t),l]).then((e=>(r(),e))).finally((()=>{clearTimeout(o)}))}return e(...t)})(...t).then((e=>(a.progressCallback&&i>0&&a.progressCallback(`${c} succeeded after retries`,{failedAttempts:i,totalDelay:o}),e))).catch((async e=>{if(i++,i===a.maxAttempts)return a.progressCallback&&a.progressCallback(`${c} failed after retries, giving up.`,{failedAttempts:i,totalDelay:o},e),Promise.reject(e);if("function"==typeof a.shouldRetry)try{if(!await a.shouldRetry(e))return Promise.reject(e)}catch(e){return a.progressCallback&&a.progressCallback(`shouldRetry of ${c} failed`,{failedAttempts:i,totalDelay:o},e),Promise.reject(e)}let n=0;if(a.shouldUseServiceDelay){const t=e.response;t&&(n=function(e){const t=e.get("retry-after");let n=0;if(t){if(isNaN(t)){const e=Date.parse(t)-Date.now();e>0&&(n=e)}else n=Number(t);n=Math.floor(1e3*(n+(Math.random()+1)))}return n}(t.headers))}if(0===n&&(n=Math.floor(2**(i-1)*a.delay*(Math.random()+1))),"function"==typeof a.affectDelayHook){const t=a.affectDelayHook(e);t&&(0===t.type&&(n=t.value),1===t.type&&n<t.value&&(n=Math.floor(t.value*(Math.random()+1))))}if(o+=n,"function"==typeof a.preRetryHook)try{await a.preRetryHook(e)}catch(e){return a.progressCallback&&a.progressCallback(`preRetryHook of ${c} failed`,{failedAttempts:i,totalDelay:o,nextRetry:n},e),Promise.reject(e)}return a.progressCallback&&a.progressCallback(`${c} failed, trying again after delay.`,{failedAttempts:i,totalDelay:o,nextRetry:n},e),(s=n,new Promise((e=>{setTimeout(e,s)}))).then((()=>l(...t)));var s}));return l}}}]);
//# sourceMappingURL=685.b3eedb02195392d1b6dd.js.map